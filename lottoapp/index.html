<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">

    <title>Minimum Bootstrap HTML Skeleton</title>

    <!--  -->

    <style>
        body {
            background: url(img/background.jpg) no-repeat fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            background-position: center;
        }
        
        #show {
            padding: 15px;
            border: 5px solid white;
            max-width: 75%;
            background-color: rgba(70, 79, 81, .8);
            color: white;
            margin: 10%;
            text-align: center;
        }
        
        .btn {
            margin: 10px;
        }
        
        .inner {
            padding: 15px;
            text-align: justify;
        }
        /* unvisited link */
        
        a {
            color: goldenrod;
            cursor: pointer;
        }
        
        #show a:hover {
            color: hotpink
        }
        /* visited link */
        
        a:visited {
            color: goldenrod;
        }
        /* mouse over link */
        
        a color: goldenrod;
        cursor: pointer;
        {
            color: hotpink;
        }
        /* selected link */
        
        a:active {
            color: darkgoldenrod;
        }
        
        input {
            color: black;
        }
    </style>

</head>

<body>

    <div class="container">


        <div id='show'>

            <div class="inner">
                <div class="row">

                    <h1>Let's Gamble!</h1>
                </div>
                <div class="row">
                    <div class="col-md-5 col-sm-4">
                        <ul>
                            <h2>Rules:</h2>
                            <li>Minimum buy-in is $10</li>
                            <li>Each turn will cost $2</li>
                            <li>Must select 4 numbers</li>
                            <li>Numbers can not repeat and must be between 1 and 10</li>

                        </ul>
                    </div>
                    <div class="col-md-5 col-sm-4">
                        <ul>
                            <h2>Pay Outs</h2>
                            <li>1 match = $2</li>
                            <li>2 matches = $4</li>
                            <li>3 matches = $16</li>
                            <li>4 matches = $64</li>

                        </ul>
                    </div>
                </div>
            </div>
            <!--                <p>Minimum wallet is $10, everytime you submit your gamble you will be charged $2. select 4 numbers between 1 and 10. If you get a match you win! One match will get you $2, Two matches will win $4, three matches is $16, and the jackpot of four wins you $64. You can play the same numbers as many times as you would like, or choose new numbers everytime. Once you run out of cash in your wallet you are done! Good luck! </p>-->

            <a onClick="tikBought()">Buy Ticket</a>

            <br/>
            <p id='currentWallet'></p>






        </div>

    </div>


    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script>
        var wallet = 0;
        var numArray = [];
        var userChoiceArray = [];
        var arr = [];
        var tempArray = [];
        var matchArray = [];
        var newWallet = 0;
        var unique = false;

        function tikBought() {

            var text = '';
            text += '<div id="currentWallet"></div>';
            text += '<a onClick="buyIn()">Play</a>';
            document.getElementById('show').innerHTML = text;
            costToBuyIn(10);

        }

        function buyIn() { //play button

            var text = '';
            text += '<div id="currentWallet"></div>';
            text += '<div id="winnings"></div>';
            text += ' <form>';
            text += '<label>Choice 1</label>';
            text += '<input type="number" id="num1" max="10" min="1" required/> ';
            text += ' <label>Choice 2</label>';
            text += '<input type="number" id="num2" max="10" min="1" required/> ';
            text += ' <label>Choice 3</label>';
            text += '<input type="number" id="num3" max="10" min="1" required/> ';
            text += ' <label>Choice 4</label>';
            text += '<input type="number" id="num4" max="10" min="1" required/> ';


            text += '</form>';
            text += '<br/>';
            text += '<a onClick="startGame()"> Submit </a> ';

            document.getElementById('show').innerHTML = text;
            document.getElementById('winnings').innerHTML = "Winnings: " + "$" + newWallet;
            document.getElementById('currentWallet').innerHTML = "Current Wallet: $" + parseInt(wallet + newWallet);

        }









        function costToBuyIn(num) {
            wallet = wallet + num;
            document.getElementById('currentWallet').innerHTML = "You have " + "$" + wallet + " to gamble! Hit 'play' to test your luck!";
        }

        function costToPlay(num) {

            wallet = wallet - num;

            document.getElementById('currentWallet').innerHTML = "Remember! It cost $2 dollars to gamble, so now you currenly have " + "$" + totalWallet() + ".";

        }
        //maybe i will use this
        function totalWallet() {
            return newWallet + wallet;
        }


        function startGame() { //submit button
            // make re-runnable
            //play again button that starts it all over again  currently I am at a dead end with play button

            var choice1 = parseInt(document.getElementById('num1').value);
            if (parseInt(document.getElementById('num1').value) > 10 || parseInt(document.getElementById('num1').value) <= 0) {
                alert('please make sure all your numbers are between 1 and 10')
                return;
            }
            var choice2 = parseInt(document.getElementById('num2').value);
            if (parseInt(document.getElementById('num2').value) > 10 || parseInt(document.getElementById('num2').value) <= 0) {
                alert('please make sure all your numbers are between 1 and 10')
                return;
            }
            var choice3 = parseInt(document.getElementById('num3').value);
            if (parseInt(document.getElementById('num3').value) > 10 || parseInt(document.getElementById('num3').value) <= 0) {
                alert('please make sure all your numbers are between 1 and 10')
                return;
            }
            var choice4 = parseInt(document.getElementById('num4').value);
            if (parseInt(document.getElementById('num4').value) > 10 || parseInt(document.getElementById('num4').value) <= 0) {
                alert('please make sure all your numbers are between 1 and 10')
                return;
            }
            userChoiceArray.push(choice1);
            userChoiceArray.push(choice2);
            userChoiceArray.push(choice3);
            userChoiceArray.push(choice4);
            // esta no bueno
            var tempUserArray = [];
            tempUserArray.push(choice1, choice2, choice3, choice4);

            for (var i = 0; i < tempUserArray.length; i++) {
                if (tempUserArray[i] == tempUserArray) {
                    prompt('NO!');
                    return;
                }
            }
            //check for matching user picks
            if (choice1 == choice2) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;
            }
            if (choice1 == choice3) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice1 == choice4) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice2 == choice1) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice2 == choice3) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice2 == choice4) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice3 == choice1) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice3 == choice2) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice3 == choice4) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice4 == choice1) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice4 == choice2) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;;
            }
            if (choice4 == choice3) {
                alert('Please Choose new numbers that do not match');
                userChoiceArray = [];
                buyIn();
                return;
            }


            var text = '';
            text += '<div id="currentWallet"></div>';
            text += '<div id="showUserA"></div>';
            text += '<br/>';
            text += '<p>Now that you have selected your numbers, hit the button below to check for any matches!</p>';
            text += '<br/>';
            text += '<a id="" onclick="getInput()">Check Winning Numbers</a';

            document.getElementById('show').innerHTML = text;



            costToPlay(2);
            userPicks();

        }



        //display user numbers
        function userPicks() {
            if (userChoiceArray.length = 4) {
                document.getElementById('showUserA').innerHTML = 'Your choices are: ' + userChoiceArray;


            }
        }






        // randomNum generator
        function getInput() { //Check Winning Numbers Button 

            while (arr.length < 4) {
                var randomnumber = Math.ceil(Math.random() * 10)
                var found = false;
                for (var i = 0; i < arr.length; i++) {
                    if (arr[i] == randomnumber) {
                        found = true;
                        break
                    }
                }
                if (!found) arr[arr.length] = randomnumber;
            }



            var text = '';
            text += '<div id="compChoices"></div>';

            text += '<button class="btn btn-success" onClick="rePlay()">Play Again?</button>'; //function bottom of page
            text += '<button class="btn btn-warning" onClick="endGame()">No Thanks</button>'; //see above 

            document.getElementById('show').innerHTML = text;
            checkMatches();
        }

        //will check if user matched computer
        function checkMatches() {
            //set array to empty
            tempArray = [];
            var text = '';
            for (var i = 0; i < arr.length; i++) {
                if (arr.indexOf(userChoiceArray[i]) == -1) {

                    tempArray.push(arr[i]);

                }



            }
            text += '<p>Winning Numbers: ' + arr + '</p>';
            text += '<p>You got ' + matches1() + ' correct</p>';

            document.getElementById('compChoices').innerHTML = text;
            prizeMoney();
        }





        function matches1() {

            return (tempArray.length - 4) * -1;
            //this is causing my initial length to equal 4, but is a good bandaid for my random numbers

        }


        //this is a function, it takes in no arguments, it calculates winning amount for matches
        function prizeMoney() {

            if (matches1() == 1) {
                newWallet = newWallet + 2;
                return wallet + 2;

            }
            if (matches1() == 2) {
                newWallet = newWallet + 4;
                return wallet + 4;
            }
            if (matches1() == 3) {
                newWallet = newWallet + 16;
                return wallet + 16;
            }
            if (matches1() == 4) {
                newWallet = newWallet + 64;
                return wallet + 64;
            }
            if (matches1() == 0) {
                return wallet;
            }

        }








        //play again button
        //this is a function, it takes in no arguments, it sets the user choices to 0  the length of all arrays to 0 and sets up the game to start fresh.
        //it checks the user wallet to make sure the user still has enough money to play
        function rePlay() {
            userChoiceArray.length = 0;
            numArray.length = 0;
            tempArray.length = 0; //need to figure out how to reset random temp array
            arr.length = 0;
            if (totalWallet() <= 2) {
                document.getElementById('show').innerHTML = "Sorry you are out of money, GO HOME";

            } else {
                buyIn();
            }



        }
        //done playing button
        //this is a function that takes in no argumennts, it sets the element with id 'show' to contain a concactenated string in its inner HTML
        function endGame() {
            document.getElementById('show').innerHTML = "Thanks for playing! you\'re going home with: " + "$" + parseInt(wallet + newWallet);
        }
    </script>

</body>

</html>